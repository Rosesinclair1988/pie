<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2012 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Content-Type" content="<?php echo $this->getContentType() ?>" />
<title><?php echo $this->getTitle() ?></title>
<meta name="description" content="<?php echo htmlspecialchars($this->getDescription()) ?>" />
<meta name="keywords" content="<?php echo htmlspecialchars($this->getKeywords()) ?>" />
<meta name="robots" content="<?php echo htmlspecialchars($this->getRobots()) ?>" />
<?php 
$venedor = Mage::helper('venedor');
?>
<?php if ( $venedor->isResponsive() ) : ?>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<?php endif; ?>

<link rel="icon" href="<?php echo $venedor->getFavicon(); ?>" type="image/x-icon" />
<link rel="shortcut icon" href="<?php echo $venedor->getFavicon(); ?>" type="image/x-icon" />

<?php if ( $venedor->getIphoneIcon() ) : ?>
<link rel="apple-touch-icon-precomposed" href="<?php echo $venedor->getIphoneIcon(); ?>">
<?php endif; ?>

<?php if ( $venedor->getIphoneRetinaIcon() ) : ?>
<link rel="apple-touch-icon-precomposed" href="<?php echo $venedor->getIphoneRetinaIcon(); ?>">
<?php endif; ?>

<?php if ( $venedor->getIpadIcon() ) : ?>
<link rel="apple-touch-icon-precomposed" href="<?php echo $venedor->getIpadIcon(); ?>">
<?php endif; ?>

<?php if ( $venedor->getIpadRetinaIcon() ) : ?>
<link rel="apple-touch-icon-precomposed" href="<?php echo $venedor->getIpadRetinaIcon(); ?>">
<?php endif; ?>

<!--[if lt IE 7]>
<script type="text/javascript">
//<![CDATA[
    var BLANK_URL = '<?php echo $this->helper('core/js')->getJsUrl('blank.html') ?>';
    var BLANK_IMG = '<?php echo $this->helper('core/js')->getJsUrl('spacer.gif') ?>';
//]]>
</script>
<![endif]-->

<?php // google fonts ?>
<?php
$fonts = array();
if ($venedor->getConfigDesign('general/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('general/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('general/heading_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('general/heading_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('general/heading_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('general/heading_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('block/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('block/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('top_menu/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('top_menu/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('top_menu/popup_level1_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('top_menu/popup_level1_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('footer/title_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('footer/title_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('footer/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('footer/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('breadcrumbs/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('breadcrumbs/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('product/price_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('product/price_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('product/save_font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('product/save_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('product/name_family_group') == 'google') {
    $font = $venedor->getConfigDesign('product/name_font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
if ($venedor->getConfigDesign('block/font_family_group') == 'google') {
    $font = $venedor->getConfigDesign('block/font_family');
    if (!in_array($font, $fonts))
        $fonts[] = $font;
}
$font_family = '';
foreach ($fonts as $font)
    $font_family .= $font . ':300,400,400italic,500,600,700,700italic|';
if ($font_family) : ?>
<link href='//fonts.googleapis.com/css?family=<?php echo $font_family ?>&subset=latin,greek-ext,cyrillic,latin-ext,greek,cyrillic-ext,vietnamese' rel='stylesheet' type='text/css' />
<?php endif; ?>

<?php /*** load standard style, javascript, etc. ***/ ?>
<?php echo $this->getCssJsHtml() ?>
<?php echo $this->getChildHtml() ?>
<?php echo $this->helper('core/js')->getTranslatorScript() ?>
<?php echo $this->getIncludes() ?>

<?php if ( $venedor->isResponsive() ) : ?>
<script type="text/javascript">
    var VENEDOR_RESPONSIVE = true;
</script>
<?php else : ?>
<script type="text/javascript">
    var VENEDOR_RESPONSIVE = false;
</script>
<?php endif; ?>
<script type="text/javascript">
var SPAN_CSS = '<?php echo $venedor->getSpanClass() ?>';
var VENEDOR_HEADER_FIXED = <?php echo $venedor->isHeaderFixed() ?>;
var VENEDOR_HEADER_FIXED_LOGO = <?php echo $venedor->isHeaderFixedLogo() ?>;
var VENEDOR_HEADER_OFFSET = <?php echo (int)$venedor->getConfigDesign('top_menu/margin_top') ?>;
var VENEDOR_MENU_PADDING = <?php echo (int)$venedor->getConfigDesign('top_menu/padding_bottom') ?>;
</script>
